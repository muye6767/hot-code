```markdown
# 双图层心跳粒子表白

## 项目简介
- **单文件零依赖**的 HTML 表白动画，适合节日、生日、告白等惊喜场景。
- **双 Canvas 叠加渲染**：  
  - 前景：100 颗彩色「💗爱你哟💗」文字爱心随机漂移 + 缩放 + 反弹  
  - 背景：500 颗粉色爱心粒子沿数学心形轨迹持续发射 + 渐隐 + 整体呼吸缩放

---

## 视觉效果
| 层级 | ID | 内容 | 特效 |
|------|----|------|------|
| 前景 | `canvas` | 彩色文字爱心 | 随机位置、速度、透明度、目标缩放，边缘反弹 |
| 背景 | `pinkboard` | 粉色爱心粒子 | 心形参数方程发射、生命周期 2s、整体 1.5s 心跳缩放 |

---

## 技术实现
| 技术 | 用途 |
|------|------|
| HTML5 Canvas | 双图层绘制 |
| 原生 ES5 JS | 粒子系统、心形参数方程、RAF 动画循环 |
| CSS3 动画 | 画布整体呼吸缩放（兼容主流前缀） |
| RAF 垫片 | IE9+ 兼容 |

---

## 核心配置
### 1. 文字内容
```js
var loverName = "💗爱你哟💗";   // 修改这里即可换字
```

### 2. 颜色池（18 种马卡龙色）
```js
const colors = ["#eec996", "#8fb7d3", ...];
```

### 3. 背景粒子参数
```js
settings.particles = {
  length: 500,   // 粒子数量
  duration: 2,   // 生命周期（秒）
  velocity: 100, // 初速度（px/s）
  effect: -0.75, // 阻力系数
  size: 30       // 单粒子尺寸（px）
};
```

---

## 使用方法
1. 保存为 `双图层心跳粒子表白.html`，直接双击运行
2. 改文字：搜索 `loverName =` 替换任意文案
3. 调颜色：修改 `colors` 数组或 `#ea80b0` 主粉色
4. 调节奏：改 CSS `1.5s` 或 JS 中的 `duration`/`velocity` 等数值

---

## 文件结构
```
双图层心跳粒子表白.html
├─ 内联 CSS：黑色背景 + 心跳缩放关键帧（全前缀兼容）
├─ 内联 JS：
│  ├─ 前景 Heart 类：位置、速度、缩放、反弹逻辑
│  ├─ 背景粒子系统：Point / Particle / ParticlePool + 心形参数方程
│  └─ RAF 渲染循环 + 窗口 resize 处理
└─ 唯一 <canvas id="pinkboard"> + <canvas id="canvas"> 全屏叠加
```

---

## 浏览器兼容性
- 支持 HTML5 Canvas 的浏览器均正常运行（IE9+）
- 移动端自动全屏自适应，可横/竖屏切换
- 单文件即可发送，无需额外资源